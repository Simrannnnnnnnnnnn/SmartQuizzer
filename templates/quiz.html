{% extends "base.html" %}
{% block content %}
<div class="welcome-card mx-auto shadow p-4" style="max-width: 700px; background: white; border-radius: 20px; margin-top: 50px;">
    <h4 class="text-muted text-center">Question {{ current_num }} of {{ total_num }}</h4>
    <hr>
    <p class="mt-4" style="font-size: 1.4rem; font-weight: 700;">{{ question.question_text }}</p>

    <form action="{{ url_for('routes.submit_answer', q_id=question.id) }}" method="POST">
        {% if session['quiz_format'] == 'mcq' %}
            <div class="options-container mt-4">
                {% if options is mapping %}
                    {% for key, val in options.items() %}
                    <div class="border p-3 mb-2 rounded shadow-sm option-item d-flex align-items-center">
                        <input type="radio" name="answer" value="{{ key }}" id="opt{{ key }}" required>
                        <label for="opt{{ key }}" class="ms-3 mb-0 w-100" style="cursor: pointer;">
                            <strong>{{ key }}:</strong> {{ val }}
                        </label>
                    </div>
                    {% endfor %}
                {% else %}
                    {% for val in options %}
                    <div class="border p-3 mb-2 rounded shadow-sm option-item d-flex align-items-center">
                        <input type="radio" name="answer" value="{{ val }}" id="opt{{ loop.index }}" required>
                        <label for="opt{{ loop.index }}" class="ms-3 mb-0 w-100" style="cursor: pointer;">{{ val }}</label>
                    </div>
                    {% endfor %}
                {% endif %}
            </div>
        {% else %}
            <textarea name="answer" class="form-control mt-3" rows="4" placeholder="Write your answer here..." required></textarea>
        {% endif %}
        
        <button type="submit" class="sunshine-btn w-100 mt-4 py-3">Submit Answer & Next ➡️</button>
    </form>
</div>

<style>
    .option-item:hover { background-color: #fffdf2; border-color: #ffcc00 !important; transition: 0.2s; }
    .option-item input[type="radio"] { width: 20px; height: 20px; accent-color: #ffcc00; }
</style>
{% endblock %}